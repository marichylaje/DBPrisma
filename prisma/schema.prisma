// prisma/schema.prisma
datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")         // Accelerate (runtime)
  directUrl = env("DIRECT_DATABASE_URL")  // Neon directo (migraciones)
}

generator client {
  provider = "prisma-client-js"
}

model UserEntitlement {
  userKey              String   @id

  // Suscripci√≥n
  subActive            Boolean  @default(false)
  subPlatform          String?
  subProductId         String?
  subExpiry            DateTime?

  // Android pendiente
  pendingAndroid       Boolean  @default(false)
  androidPurchaseToken String?
  lastVerifyAt         DateTime?
  verifyError          String?

  // Trial
  trialGranted         Boolean  @default(false)
  trialStart           DateTime?
  trialExpiry          DateTime?

  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
}
